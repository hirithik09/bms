{% extends "base.html" %} {% block title %}Category{% endblock %} {% block
content %}
<h3>Book Genre</h3>
<!-- Custom Styling -->
<style>
  .is-invalid {
    border-color: #dc3545 !important;
    box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
  }

  label.error {
    color: #dc3545;
    font-size: 0.875em;
    margin-top: 0.25rem;
    display: block;
  }
</style>

<!-- Dependencies -->
<script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.validate.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jsdelivr.bootstrap.js') }}"></script>
<script src="{{ url_for('static', filename='js/datatable.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/category.js') }}"></script>
<script src="{{ url_for('static', filename='js/sweetalert.js') }}"></script>
<p class="text-end">
  <a href="#" class="btn btn-primary" id="add_record">Add</a>
</p>
<div class="dataTable-wrapper">
  <table id="userTable" class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>Id</th>
        <th>Genre</th>
        <th>Status</th>
        <th>Created At</th>
        <th>Updated At</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for user in users %}
      <tr data-id="{{ user.id }}" data-genre="{{ user.book_category }}">
        <td>{{ user.id }}</td>
        <td>{{ user.book_category }}</td>
        <td>
          <div class="form-check form-switch">
            <input class="form-check-input status-toggle" type="checkbox"
            role="switch" {% if user.status == 1 or user.status == '1' %}
            checked {% endif %}>
          </div>
        </td>
        <td class="created-at">{{ user.created_date }}</td>
        <td class="updated-at">{{ user.updated_date }}</td>
        <td>
          <button class="btn btn-sm btn-primary update-btn">Edit</button>
          <button class="btn btn-sm btn-danger delete-btn">Delete</button>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<!-- Modal -->
<div
  class="modal fade"
  id="genreModal"
  tabindex="-1"
  aria-labelledby="genreModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <form id="genreForm">
        <div class="modal-header">
          <h5 class="modal-title" id="genreModalLabel">Add Genre</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <input type="hidden" id="genreId" />
          <div class="mb-3">
            <label for="genreInput" class="form-label"
              >Genre<span class="text-danger">*</span></label
            >
            <input
              type="text"
              class="form-control"
              id="genreInput"
              name="genre"
              required
            />
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Save</button>
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Toast Container -->
<div class="position-fixed top-0 end-0 p-3" style="z-index: 1100">
  <div
    id="toast"
    class="toast align-items-center text-white bg-primary border-0"
    role="alert"
    aria-live="assertive"
    aria-atomic="true"
  >
    <div class="d-flex">
      <div class="toast-body" id="toast-body"></div>
      <button
        type="button"
        class="btn-close btn-close-white me-2 m-auto"
        data-bs-dismiss="toast"
        aria-label="Close"
      ></button>
    </div>
  </div>
</div>

{% endblock %}
